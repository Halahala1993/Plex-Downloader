<app-navbar></app-navbar>
<app-loading></app-loading>

<br><br><br>

<div class="container form-group">
  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-10 col-sm-12">
      <!-- Grey with black text -->
      <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
        <ul class="navbar-nav">
          <li>
            <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true"
               aria-expanded="false">Filter By</a>

            <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">

              <li class="dropdown-submenu">
                <a class="dropdown-toggle" data-toggle="dropdown">Genre</a>
                <ul class="dropdown-menu dropdown-content" *ngIf="genres">
                  <li *ngFor="let genre of genres" (click)="fillSearchCriteria(null, genre)">
                    <a class="dropdown"  >{{genre}}</a>
                  </li>
                  <li class="divider"></li>
                  <!--<li>
                    <a class="dropdown" (click)="clearFilters()">Show All</a>
                  </li>-->
                </ul>
              </li>
              <li class="dropdown-submenu">
                <a class="dropdown-toggle" data-toggle="dropdown">Year</a>
                <ul class="dropdown-menu dropdown-content" *ngIf="years">
                  <li *ngFor="let year of years" (click)="fillSearchCriteria(year, null)">
                    <a class="dropdown">{{year}}</a>
                  </li>
                  <li class="divider"></li>
                  <!--<li>
                    <a class="dropdown" (click)="clearFilters()">Show All</a>
                  </li>-->
                </ul>
              </li>
              <li class="dropdown-divider"></li>
              <li>
                <a class="dropdown" (click)="clearFilters()">Clear Filter</a>
              </li>
            </ul>
          </li>
        </ul>
        <ul class="navbar-nav ml-auto">
          <li class="nav-item active">
            <label>
              <input type="text" class="form-control" placeholder="Filter Media..."
                     style="width: 300px" [(ngModel)]="searchQuery"/>
            </label>
          </li>
        </ul>
      </nav>
    </div>
    <div class="col-md-1"></div>
  </div>
</div>
<br>
<div class="container">

    <div class="row flex-nowrap" *ngIf="videosList">
      <div class="col-md-3 col-sm-6" *ngFor="let video of videosList | libraryFilter:searchQuery | librarySearchCriteriaFilterPipe:searchCriteria">
        <div class="h-100">
            <app-media-card class="col-sm-6 col-md-3" [video]="video"></app-media-card>
        </div>
      </div>
    </div>

    <div class="row" *ngIf="showsList">
      <div class="col-md-3 col-sm-6" *ngFor="let show of showsList | librarySeriesFilter:searchQuery | librarySeriesSearchCriteriaFilterPipe: searchCriteria">
        <div class="h-100">
            <app-media-card class="col-sm-6 col-md-3" [show]="show"></app-media-card>
        </div>
      </div>
    </div>
</div>
